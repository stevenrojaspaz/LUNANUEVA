<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LUNA MAGIC</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .carousel-inner img {
  height: 400px;       /* Ajusta a la altura que quieras */
  object-fit: cover;   /* Recorta la imagen sin deformarla */
}
    :root {
      --bg: #0f172a;           /* slate-900 */
      --panel: #111827;        /* gray-900 */
      --card: #0b1220;         /* custom */
      --text: #e5e7eb;         /* gray-200 */
      --muted: #94a3b8;        /* slate-400 */
      --accent: #22d3ee;       /* cyan-400 */
      --accent-2: #38bdf8;     /* sky-400 */
      --danger: #ef4444;       /* red-500 */
      --ok: #22c55e;           /* green-500 */
      --border: #1f2937;       /* gray-800 */
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0; background: radial-gradient(1200px 800px at 20% -10%, #122341 0%, #0b1020 40%, #070a13 100%), var(--bg);
      color: var(--text); font: 16px/1.5 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      display: grid; place-items: start center;
      padding: 28px 16px 56px;
    }

    .app { width: 100%; max-width: 900px; }
    h1 { font-size: clamp(22px, 2.2vw, 34px); margin: 0 0 16px; letter-spacing: .2px; }

    .card {
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border: 1px solid var(--border);
      border-radius: 18px;
      box-shadow: 0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.05);
      padding: 18px;
    }

    .message {
      min-height: 88px;
      display: grid; place-items: center; text-align: center;
      font-size: clamp(18px, 2.1vw, 28px);
      padding: 18px; border-radius: 14px;
      background: rgba(34,211,238,.06);
      border: 1px dashed rgba(56,189,248,.35);
      margin-bottom: 14px;
    }

    .controls { display: flex; gap: 10px; flex-wrap: wrap; }
    button {
      --btn-bg: #0b1220;
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
      color: var(--text);
      border: 1px solid var(--border);
      border-radius: 12px; padding: 10px 14px; cursor: pointer;
      font-weight: 600; letter-spacing: .2px;
      transition: transform .06s ease, border-color .2s ease, box-shadow .2s ease;
    }
    button:hover { border-color: rgba(56,189,248,.6); box-shadow: 0 6px 18px rgba(34,211,238,.12); }
    button:active { transform: translateY(1px); }
    button[disabled] { opacity: .5; cursor: not-allowed; }

    .btn-primary { background: linear-gradient(180deg, rgba(56,189,248,.25), rgba(56,189,248,.08)); }
    .btn-danger  { background: linear-gradient(180deg, rgba(239,68,68,.25), rgba(239,68,68,.08)); }

    .status { display: grid; grid-template-columns: 1fr; gap: 8px; margin-top: 14px; color: var(--muted); }
    .progress { height: 10px; background: #0a1426; border-radius: 999px; border: 1px solid var(--border); overflow: hidden; }
    .bar { height: 100%; width: 0%; background: linear-gradient(90deg, var(--accent), var(--accent-2)); transition: width .3s ease; }

    .panel {
      margin-top: 16px; padding: 14px; border: 1px solid var(--border); border-radius: 16px;
      background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.02));
    }
    .panel h2 { margin: 0 0 10px; font-size: clamp(18px, 1.8vw, 24px); }
    .hidden { display: none; }

    .history-head { display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 8px; }
    .search { flex: 1; display: flex; gap: 8px; }
    .search input { flex: 1; border: 1px solid var(--border); background: #0a1426; color: var(--text); border-radius: 10px; padding: 8px 10px; }

    .tags { display: flex; gap: 8px; flex-wrap: wrap; }
    .tag { font-size: 12px; color: var(--muted); padding: 4px 8px; border: 1px solid var(--border); border-radius: 999px; }

    ul#historyList { list-style: none; padding: 0; margin: 0; max-height: 360px; overflow: auto; border-top: 1px solid var(--border); }
    ul#historyList li { display: grid; grid-template-columns: 88px 1fr 160px; gap: 10px; align-items: center; padding: 10px; border-bottom: 1px solid var(--border); }
    ul#historyList li span.idx { font-variant-numeric: tabular-nums; color: var(--muted); }
    ul#historyList li code { background: rgba(34,211,238,.06); border: 1px solid rgba(56,189,248,.25); padding: 2px 6px; border-radius: 8px; }
    .empty { color: var(--muted); font-style: italic; padding: 10px 0; }

    .footer { margin-top: 10px; display: flex; justify-content: space-between; align-items: center; color: var(--muted); font-size: 13px; }
    .footer .pill { background: rgba(34,197,94,.09); border: 1px solid rgba(34,197,94,.3); color: #bbf7d0; padding: 6px 10px; border-radius: 999px; font-weight: 600; }

    /* Scrollbar nice-to-have */
    ::-webkit-scrollbar { height: 10px; width: 10px; }
    ::-webkit-scrollbar-thumb { background: #1f2c4a; border-radius: 999px; border: 2px solid #0b1020; }
    ::-webkit-scrollbar-track { background: transparent; }

  </style>
</head>
<body>
  <center>
  <div class="app">
    <header>
    <h1>LUNA MAGICA</h1>
  </header>
  </center>
 <div class="container mb-4">
    <div id="carouselExample" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active"><img src="i.jpg" class="d-block w-100" alt="hco1"></div>
        <div class="carousel-item"><img src="luna.webp" class="d-block w-100" alt="hco2"></div>
        <div class="carousel-item"><img src="5.jpg" class="d-block w-100" alt="hco3"></div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
      </button>
    </div>
  </div>
    <div class="card" role="region" aria-live="polite">
      <div id="message" class="message">Pulsa <strong>‚ÄúNuevo mensaje‚Äù</strong> para comenzar</div>
      <div class="controls">
        <button class="btn-primary" id="btnNew">‚ûï Nuevo mensaje</button>
        <button id="btnHistory">üóÇÔ∏è Ver historial</button>
        <button class="btn-danger" id="btnReset">‚ôªÔ∏è Reiniciar</button>
      </div>
      <div class="status">
        <span id="count">0/100 mostrados</span>
        <div class="progress" aria-hidden="true"><div id="bar" class="bar"></div></div>
      </div>
    </div>
     <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <div id="historyPanel" class="panel hidden">
      <div class="history-head">
        <h2>Historial de mensajes</h2>
        <div class="search">
          <input type="text" id="search" placeholder="Buscar en el historial‚Ä¶" />
          <div class="tags">
            <span class="tag" id="tagTotal">Total: 0</span>
            <span class="tag" id="tagUnseen">Faltan: 100</span>
          </div>
        </div>
      </div>
      <ul id="historyList"></ul>
      <div class="footer">
        <span>Los datos se guardan en tu navegador (localStorage).</span>
        <span class="pill" id="pillState">Activo</span>
      </div>
    </div>
  </div>
  <script>
const DEFAULT_MESSAGES = [
  "Cree en ti, eres m√°s fuerte de lo que imaginas.",
  "Cada d√≠a es una nueva oportunidad para brillar.",
  "Tu sonrisa puede cambiar el d√≠a de alguien.",
  "Nunca es tarde para empezar de nuevo.",
  "El esfuerzo de hoy ser√° la recompensa de ma√±ana.",
  "Tu puedes luuuu.",
  "Si puedes so√±arlo, puedes lograrlo.",
  "La vida es un regalo, disfr√∫tala al m√°ximo.",
  "Todo lo que das, vuelve multiplicado.",
  "Sonrie mas, es hermoso tu sonrisa.",
  "Conf√≠a en el proceso, todo llega a su tiempo.",
  "Eres √∫nica y eso es tu mayor poder.",
  "Las peque√±as cosas hacen grande la vida.",
  "Con paciencia y constancia, todo se logra.",
  "Hoy es un buen d√≠a para empezar algo nuevo.",
  "Tu energ√≠a atrae lo que mereces.",
  "S√© luz en los d√≠as oscuros.",
  "Cada error es una lecci√≥n valiosa.",
  "La gratitud abre la puerta a la felicidad.",
  "Tu historia apenas comienza, y ser√° hermosa.",
  "No importa la velocidad, sigue avanzando.",
  "Las mejores cosas llegan cuando menos lo esperas.",
  "No compares tu camino con el de nadie.",
  "canta y los problemas se van a esfumar  .",
  "El cambio empieza en ti, animo .",
  "En un mundo de cuerdos,prefiero ser el loco.",
  "Los sue√±os grandes requieren valent√≠a.",
  "La vida siempre recompensa a los que nunca se rinden.",
  "T√∫ puedes con todo.",
  "cantas hermoso,estas perdiendo plata.",
  "no reniegues,mejor toma aguita.",
  "eres la protagonista de tu propia novela.",
  "estas renegando, te estoy viendo.jsjjsjsj.",
  "Tu esfuerzo vale oro.",
  "Si la vida te da retos, es porque puedes superarlos.",
  "la vida es como un juego, se pone dificil cuando lo vas a superar.",
  "El presente es el √∫nico regalo real.",
  "El futuro pertenece a quienes creen en √©l.",
  "ya comisteeeeee,recuerda comer bien.",
  "No hay l√≠mites para quien conf√≠a.",
  "La paz comienza en tu interior.",
  "Disfruta el viaje, no solo la meta.",
  "Agradece siempre, incluso lo peque√±o.",
  "Las ca√≠das son parte del camino.",
  "El optimismo abre puertas.",
  "Sigue so√±ando, sigue creando.",
  "harry potter te manda saludos .",
  "pon la musica que te hace cantar .",
  "Hazlo con pasi√≥n tu dia a dia,eres la mejor.",
  "Tu sonrisa es tu superpoder,si no lo dudes.",
  "Hoy puede ser el inicio de algo incre√≠ble.",
  "No esperes el momento perfecto, cr√©alo.",
  "Eres capaz de lo que te propongas.",
  "hey ,te olvidaste sonreir.",
  "Haz que tu vida sea un ejemplo de amor.",
  "El fracaso no existe, solo aprendizajes.",
  "S√© constante y ver√°s resultados.",
  "No pares hasta estar orgullosa.",
  "La felicidad se cultiva d√≠a a d√≠a.",
  "Lo mejor est√° por venir.",
  "Respira, todo estar√° bien.",
  "Las estrellas no brillan sin oscuridad.",
  "Haz de cada d√≠a tu obra de arte.",
  "Conf√≠a en el tiempo de Dios.",
  "No busques la perfecci√≥n, busca ser aut√©ntica.",
  "Tus pensamientos crean tu realidad.",
  "Lo sencillo tambi√©n es hermoso.",
  "La magia est√° en las cosas peque√±as.",
  "Cada d√≠a es un nuevo cap√≠tulo.",
  "El amor sana todo.",
  "No te rindas, a√∫n queda mucho por vivir.",
  "Tu voz interior siempre tiene raz√≥n.",
  "Haz las paces contigo misma.",
  "Las metas se alcanzan paso a paso.",
  "Cuida tu mente como cuidas tu cuerpo.",
  "S√© la mejor versi√≥n de ti misma.",
  "El √©xito empieza en tu mente.",
  "Cada amanecer es una nueva oportunidad.",
  "Haz lo correcto, aunque nadie te vea.",
  "El camino dif√≠cil lleva a destinos hermosos.",
  "Tu esfuerzo inspirar√° a otros.",
  "Eres un milagro en este mundo.",
  "No vivas para complacer, vive para ser feliz.",
  "El presente es tuyo, v√≠velo.",
  "Siempre hay razones para sonre√≠r.",
  "Todo pasa por algo.",
  "vamos por un cafe, que este dia acaba de empezar.",
  "Haz m√°s de lo que te hace feliz.",
  "Nunca pierdas la fe.",
  "La paciencia es un superpoder.",
  "El universo conspira a tu favor.",
  "La vida es corta, disfr√∫tala.",
  "Tu felicidad no depende de nadie m√°s.",
  "Sigue tu coraz√≥n, siempre sabe el camino.",
  "La mejor inversi√≥n es en ti misma.",
  "Donde hay amor, hay milagros.",
  "T√∫ eres suficiente, no lo olvides.",
  "hey mira abajo, se te cayo una sonrisa hermosa.",
  "Lo que siembras hoy, lo cosechar√°s ma√±ana.",
  "Cree, act√∫a y conf√≠a: todo llegar√°.",
  "Tienes un brillo √∫nico que nadie puede apagar.",
  "Eres un regalo para el mundo.",
  "Hoy ser√° un gran d√≠a, cr√©elo."
];

const TOTAL = DEFAULT_MESSAGES.length;


    const LS_KEYS = {
      history: 'msg100_history_v1', // [{index, text, time}]
      pool: 'msg100_pool_v1',       // [indices restantes]
      msgs: 'msg100_texts_v1'       // [textos] (por si quieres personalizar a futuro)
    };

    function loadState() {
      const savedMsgs = JSON.parse(localStorage.getItem(LS_KEYS.msgs) || 'null') || DEFAULT_MESSAGES;
      let history = JSON.parse(localStorage.getItem(LS_KEYS.history) || '[]');
      let pool = JSON.parse(localStorage.getItem(LS_KEYS.pool) || 'null');

      // Reconstruir pool si no existe o est√° corrupto
      if (!Array.isArray(pool)) {
        const seen = new Set(history.map(h => h.index));
        pool = Array.from({ length: TOTAL }, (_, i) => i).filter(i => !seen.has(i));
      } else {
        pool = pool.filter(i => Number.isInteger(i) && i >= 0 && i < TOTAL);
      }

      // Sanitizar historial por si cambiaste la lista de mensajes
      history = history.filter(h => h && Number.isInteger(h.index) && h.index >= 0 && h.index < savedMsgs.length)
                       .map(h => ({ ...h, text: savedMsgs[h.index] }));

      persist({ history, pool, msgs: savedMsgs });
      return { history, pool, msgs: savedMsgs };
    }

    function persist({ history, pool, msgs }) {
      localStorage.setItem(LS_KEYS.history, JSON.stringify(history));
      localStorage.setItem(LS_KEYS.pool, JSON.stringify(pool));
      localStorage.setItem(LS_KEYS.msgs, JSON.stringify(msgs));
    }

    // =========================
    // UI HELPERS
    // =========================
    const $ = sel => document.querySelector(sel);
    const $$ = sel => document.querySelectorAll(sel);

    const elMessage = $('#message');
    const elBtnNew = $('#btnNew');
    const elBtnHistory = $('#btnHistory');
    const elBtnReset = $('#btnReset');
    const elCount = $('#count');
    const elBar = $('#bar');
    const elPanel = $('#historyPanel');
    const elList = $('#historyList');
    const elSearch = $('#search');
    const elTagTotal = $('#tagTotal');
    const elTagUnseen = $('#tagUnseen');
    const elPill = $('#pillState');

    let state = loadState();

    function formatTime(ts) {
      try {
        return new Date(ts).toLocaleString();
      } catch { return '' }
    }

    function updateStatus() {
      const shown = state.history.length;
      elCount.textContent = `${shown}/${TOTAL} mostrados`;
      const pct = Math.round((shown / TOTAL) * 100);
      elBar.style.width = `${pct}%`;
      elBtnNew.disabled = state.pool.length === 0;
      elTagTotal.textContent = `Total: ${shown}`;
      elTagUnseen.textContent = `Faltan: ${state.pool.length}`;
      elPill.textContent = state.pool.length ? 'Activo' : 'Completado';
      elPill.style.background = state.pool.length ? 'rgba(34,197,94,.09)' : 'rgba(148,163,184,.12)';
      elPill.style.borderColor = state.pool.length ? 'rgba(34,197,94,.3)' : 'rgba(148,163,184,.25)';
      elPill.style.color = state.pool.length ? '#bbf7d0' : '#cbd5e1';
    }

    function renderHistory(filter = '') {
      const q = filter.trim().toLowerCase();
      elList.innerHTML = '';
      const items = state.history.filter(h => h.text.toLowerCase().includes(q));
      if (!items.length) {
        const li = document.createElement('li');
        li.className = 'empty';
        li.textContent = 'A√∫n no hay mensajes (o no hay coincidencias de b√∫squeda).';
        elList.appendChild(li);
        return;
      }
      for (const h of items) {
        const li = document.createElement('li');
        const idx = document.createElement('span');
        idx.className = 'idx';
        idx.textContent = `#${h.index + 1}`;
        const txt = document.createElement('div');
        const code = document.createElement('code');
        code.textContent = h.text;
        txt.appendChild(code);
        const time = document.createElement('span');
        time.className = 'time';
        time.style.textAlign = 'right';
        time.style.color = 'var(--muted)';
        time.textContent = formatTime(h.time);
        li.appendChild(idx); li.appendChild(txt); li.appendChild(time);
        elList.appendChild(li);
      }
    }

    function showMessage(text) {
      elMessage.innerHTML = text.replace(/</g, '&lt;').replace(/>/g, '&gt;');
    }

    function pickRandom() {
      if (!state.pool.length) return null;
      const r = Math.floor(Math.random() * state.pool.length);
      const index = state.pool.splice(r, 1)[0];
      const entry = { index, text: state.msgs[index], time: Date.now() };
      state.history.unshift(entry); // al inicio
      persist(state);
      return entry;
    }

    // =========================
    // EVENTOS
    // =========================
    elBtnNew.addEventListener('click', () => {
      const entry = pickRandom();
      if (!entry) {
        showMessage('‚úÖ Ya salieron los 100 mensajes. Pulsa <strong>Reiniciar</strong> para comenzar otra vez.');
      } else {
        showMessage(entry.text);
        updateStatus();
        renderHistory(elSearch.value);
      }
    });

    elBtnHistory.addEventListener('click', () => {
      elPanel.classList.toggle('hidden');
      if (!elPanel.classList.contains('hidden')) renderHistory(elSearch.value);
    });

    elBtnReset.addEventListener('click', () => {
      if (!confirm('¬øSeguro que deseas reiniciar? Se borrar√° el historial.')) return;
      state.history = [];
      state.pool = Array.from({ length: TOTAL }, (_, i) => i);
      persist(state);
      showMessage('Se reinici√≥ el contador. Pulsa <strong>‚ÄúNuevo mensaje‚Äù</strong> para empezar.');
      updateStatus();
      renderHistory(elSearch.value);
    });

    elSearch.addEventListener('input', () => {
      renderHistory(elSearch.value);
    });
    function showMessage(text) {
  const colors = ["#ff4081", "#00ffcc", "#ffd700", "#ff5722", "#4caf50"]; // paleta
  const randomColor = colors[Math.floor(Math.random() * colors.length)];
  elMessage.style.color = randomColor;
  elMessage.innerHTML = text.replace(/</g, '&lt;').replace(/>/g, '&gt;');
}
    updateStatus();
    renderHistory('');
    localStorage.clear();
     </script>

  <div class="extra-images container my-5 text-center">
  <div class="row justify-content-center mb-4">
    <!-- Imagen grande arriba -->
    <div class="col-12">
      <img src="a1.webp" alt="hco1" class="img-fluid rounded" style="max-width:600px;">
    </div>
  </div>
  <div class="extra-images container my-5 text-center">
  <div class="row justify-content-center mb-4">
    <!-- Imagen grande arriba -->
    <div class="col-12">
      <img src="a2.webp" alt="hco1" class="img-fluid rounded" style="max-width:600px;">
    </div>
  </div>
  <div class="extra-images container my-5 text-center">
  <div class="row justify-content-center mb-4">
    <!-- Imagen grande arriba -->
    <div class="col-12">
      <img src="a3.webp" alt="hco1" class="img-fluid rounded" style="max-width:600px;">
    </div>
  </div>
  <div class="extra-images container my-5 text-center">
  <div class="row justify-content-center mb-4">
    <!-- Imagen grande arriba -->
    <div class="col-12">
      <img src="a4.webp" alt="hco1" class="img-fluid rounded" style="max-width:600px;">
    </div>
  </div>
  <div class="extra-images container my-5 text-center">
  <div class="row justify-content-center mb-4">
    <!-- Imagen grande arriba -->
    <div class="col-12">
      <img src="a5.webp" alt="hco1" class="img-fluid rounded" style="max-width:600px;">
    </div>
  </div>

  
  <footer>
    <center>
      <p>
        Gracias por llegar a mi vida. Conocerte ha sido lo mejor que me pas√≥ en el 2024, porque desde entonces todo ha tenido un brillo especial.  
        Admiro lo concentrada, atenta y linda que eres, y me siento afortunado de compartir momentos contigo.  
        <br><br>
        Este peque√±o programa es un regalo, pensado para recordarte que, incluso en los d√≠as dif√≠ciles, siempre puedes darle un giro positivo a todo.  
        <br><br>
        Hoy quiero desearte un cumplea√±os lleno de alegr√≠a, rodeada de tus seres queridos.  
        Que Dios bendiga tu hogar, tu familia y que siempre ilumine tu vida con amor, salud y felicidad. üíñ
      </p>
    </center>
  </footer>
</body>
</html>
